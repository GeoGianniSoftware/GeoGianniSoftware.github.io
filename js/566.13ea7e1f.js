"use strict";(self["webpackChunkfapia_app"]=self["webpackChunkfapia_app"]||[]).push([[566],{3566:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var a=l(3673),n=l(2323);const o=(0,a._)("div",{class:"text-h6"},"Alert",-1),r=(0,a._)("div",{class:"q-px-lg q-pt-xl q-mb-md bottomMargin"},[(0,a._)("div",{class:"q-px-lg q-pt-xl q-mb-md"})],-1),i={class:"headerBox"},s=(0,a._)("div",{class:"absolute-bottom centerAlign sponsorBanner"},"Sponsored Content",-1),u=(0,a.Uk)(" Pages "),c=(0,a.Uk)(" External Links "),d=(0,a.Uk)("FAPIA Website"),m=(0,a.Uk)("FAPIA Members"),p=(0,a.Uk)("Powered by GeoGianni.com");function f(e,t,l,f,g,w){const b=(0,a.up)("q-btn"),h=(0,a.up)("q-card-section"),k=(0,a.up)("q-card-actions"),W=(0,a.up)("q-card"),_=(0,a.up)("q-dialog"),I=(0,a.up)("q-toolbar"),A=(0,a.up)("q-img"),D=(0,a.up)("q-header"),q=(0,a.up)("q-item-label"),Z=(0,a.up)("EssentialLink"),L=(0,a.up)("q-icon"),x=(0,a.up)("q-item-section"),C=(0,a.up)("q-item"),v=(0,a.up)("q-list"),Q=(0,a.up)("q-drawer"),U=(0,a.up)("router-view"),y=(0,a.up)("q-page-container"),T=(0,a.up)("q-layout"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(b,{label:"Alert",color:"primary",onClick:t[0]||(t[0]=t=>e.alert=!0)}),(0,a.Wm)(_,{modelValue:e.alert,"onUpdate:modelValue":t[1]||(t[1]=t=>e.alert=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"alertCard"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(h,{class:"q-pt-none text-h6 text-body1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(this.alertText),1)])),_:1}),(0,a.Wm)(h,{class:"q-pt-none text-subtitle2 alertLine"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(this.alertTime),1)])),_:1}),(0,a.Wm)(k,{align:"center",class:"q-ma-md bg-grey"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"OK",color:"primary",onClick:e.setLastAlert},null,8,["onClick"]),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(T,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",onClick:e.toggleLeftDrawer},null,8,["onClick"])])),_:1}),r,(0,a._)("div",null,[(0,a.Wm)(A,{src:"statics/fapia.jpg",class:"header-image absolute-top center"}),(0,a._)("div",i,[(0,a.Wm)(A,{src:e.currentBannerURL,class:"banner absolute-bottom"},null,8,["src"]),s])])])),_:1}),(0,a.Wm)(Q,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{header:""},{default:(0,a.w5)((()=>[u])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.essentialLinks,(e=>((0,a.wg)(),(0,a.j4)(Z,(0,a.dG)({key:e.title},e),null,16)))),128)),(0,a.Wm)(q,{header:""},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(C,{clickable:"",onClick:t[2]||(t[2]=t=>e.openLink(0)),exact:"",tag:"a",target:"blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{name:"public"})])),_:1}),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[d])),_:1})])),_:1})])),_:1}),(0,a.Wm)(C,{clickable:"",onClick:t[3]||(t[3]=t=>e.openLink(1)),exact:"",tag:"a",target:"blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{name:"manage_accounts"})])),_:1}),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1}),(0,a.Wm)(C,{clickable:"",onClick:t[4]||(t[4]=t=>e.openLink(2)),exact:"",tag:"a",target:"blank",class:"absolute-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{class:"text-red",name:"bolt"})])),_:1}),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{style:{color:"black","text-decoration":"underline"}},{default:(0,a.w5)((()=>[p])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U)])),_:1})])),_:1})],64)}function g(e,t,l,o,r,i){const s=(0,a.up)("q-icon"),u=(0,a.up)("q-item-section"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(d,{clickable:"",exact:"",tag:"a",target:"blank",to:e.to,link:e.link},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(u,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.title),1)])),_:1}),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["to","link"])}const w=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:String,default:"#"},link:{type:String,default:"#"},icon:{type:String,default:""}}});var b=l(3414),h=l(2035),k=l(4554),W=l(2350),_=l(7518),I=l.n(_);w.render=g;const A=w;I()(w,"components",{QItem:b.Z,QItemSection:h.Z,QIcon:k.Z,QItemLabel:W.Z});var D=l(1959),q=(l(1082),l(6395)),Z=(l(3277),l(2490)),L=l(8127),x=l(3437);const C=[{title:"Information",icon:"info",to:"/"},{title:"Wall of Fame",icon:"format_list_numbered",to:"/donations"}],v=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:A},setup(){const e=(0,D.iH)(!1),t=(0,D.iH)("https://firebasestorage.googleapis.com/v0/b/fapia-live.appspot.com/o/bannerImages%2Fbanner1.jpg?alt=media&token=1347c49a-d3f9-4eef-b302-0ccba37cdbe5");return{alert:(0,D.iH)(null),done:!1,lastAlertID:0,alertText:"",alertTime:null,essentialLinks:C,currentAlertID:null,currentBannerURL:t,bannerCount:-1,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},methods:{openLink(e){0==e&&(0,x.Z)("https://www.fapia.net/"),1==e&&(0,x.Z)("https://fapia.memberclicks.net/login#/login"),2==e&&(0,x.Z)("https://GeoGianni.com")},setLastAlert:function(e){q.Z.set("lastAlertID",this.currentAlertID),this.lastAlertID=this.currentAlertID,this.alert=!1,console.log("DONE!"+q.Z.getItem("lastAlertID"))},getCurrentBannerImage(e){if(-1==this.bannerCount){(0,L.JU)(Z["default"],"data","info"),(0,L.QT)((0,L.JU)(Z["default"],"data","info")).then((e=>{e.exists()?(console.log("BC: "+e.data().bannerCount),this.bannerCount=e.data().bannerCount):console.log("No such document!")}))}(0,L.JU)(Z["default"],"bannerUrls","banner0"),(0,L.QT)((0,L.JU)(Z["default"],"bannerUrls","banner"+e)).then((e=>{e.exists()?this.currentBannerURL=e.data().URL:console.log("No such document!")}))},getNewestAlert(){console.log("Start:"+q.Z.getItem("lastAlertID")),null!=q.Z.getItem("lastAlertID")&&(this.lastAlertID=q.Z.getItem("lastAlertID")),console.log("WHOA"+this.lastAlertID+this.currentAlertID),this.lastAlertID==this.currentAlertID&&null!=this.lastAlertID||(this.alert=!0,console.log("test"))}},created(){setInterval((()=>this.getCurrentBannerImage(Math.floor(2*Math.random()))),1e4)},mounted(){this.setLastAlert();const e=(0,L.IO)((0,L.hJ)(Z["default"],"alerts"),(0,L.Xo)("time"));(0,L.cf)(e,(e=>{e.docChanges().forEach((e=>{let t=e.doc.data(),l={alertText:t.alertText,id:null,time:t.time};"added"===e.type&&(console.log("New Alert: ",e.doc.id),console.log("New Alert: ",this.lastAlertID+" "+this.alert),this.getNewestAlert(),l.id=e.doc.id,this.alertText=l.alertText,this.currentAlertID=l.id,this.alertTime=l.time.toDate().toDateString()+"\nat "+l.time.toDate().toLocaleTimeString(),console.log("tast: "+this.alertText),e.doc.id!=this.lastAlertID&&(this.alert=!0)),"modified"===e.type&&(console.log("Modified Alert: ",t),this.getNewestAlert()),"removed"===e.type&&console.log("Removed Alert: ",t)}))}))}});var Q=l(8240),U=l(5548),y=l(151),T=l(5589),S=l(9367),B=l(3066),H=l(3812),N=l(9570),M=l(4027),O=l(6873),E=l(7011),P=l(2652),V=l(677);v.render=f;const j=v;I()(v,"components",{QBtn:Q.Z,QDialog:U.Z,QCard:y.Z,QCardSection:T.Z,QCardActions:S.Z,QLayout:B.Z,QHeader:H.Z,QToolbar:N.Z,QImg:M.Z,QDrawer:O.Z,QList:E.Z,QItemLabel:W.Z,QItem:b.Z,QItemSection:h.Z,QIcon:k.Z,QPageContainer:P.Z}),I()(v,"directives",{ClosePopup:V.Z})}}]);