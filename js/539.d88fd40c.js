"use strict";(self["webpackChunkfapia_app"]=self["webpackChunkfapia_app"]||[]).push([[539],{6539:(t,e,l)=>{l.r(e),l.d(e,{default:()=>E});var a=l(3673),n=l(2323);const o=(0,a._)("div",{class:"text-h6"},"Alert",-1),r=(0,a._)("div",{class:"q-px-lg q-pt-xl q-mb-md bottomMargin"},[(0,a._)("div",{class:"q-px-lg q-pt-xl q-mb-md"})],-1),i=(0,a.Uk)(" Pages "),s=(0,a.Uk)(" External Links "),u=(0,a.Uk)("FAPIA Website"),c=(0,a.Uk)("FAPIA Members"),d=(0,a.Uk)("Powered by GeoGianni.com");function m(t,e,l,m,p,g){const f=(0,a.up)("q-btn"),k=(0,a.up)("q-card-section"),w=(0,a.up)("q-card-actions"),b=(0,a.up)("q-card"),h=(0,a.up)("q-dialog"),_=(0,a.up)("q-toolbar"),W=(0,a.up)("q-img"),I=(0,a.up)("q-header"),A=(0,a.up)("q-item-label"),L=(0,a.up)("EssentialLink"),D=(0,a.up)("q-icon"),Z=(0,a.up)("q-item-section"),q=(0,a.up)("q-item"),C=(0,a.up)("q-list"),x=(0,a.up)("q-drawer"),v=(0,a.up)("router-view"),Q=(0,a.up)("q-page-container"),S=(0,a.up)("q-layout"),U=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(f,{label:"Alert",color:"primary",onClick:e[0]||(e[0]=e=>t.alert=!0)}),(0,a.Wm)(h,{modelValue:t.alert,"onUpdate:modelValue":e[1]||(e[1]=e=>t.alert=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"alertCard"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(k,{class:"q-pt-none text-h6 text-body1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(this.alertText),1)])),_:1}),(0,a.Wm)(k,{class:"q-pt-none text-subtitle2 alertLine"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(this.alertTime),1)])),_:1}),(0,a.Wm)(w,{align:"center",class:"q-ma-md bg-grey"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(f,{flat:"",label:"OK",color:"primary",onClick:t.setLastAlert},null,8,["onClick"]),[[U]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(S,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{class:"noPoint"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{flat:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",onClick:t.toggleLeftDrawer},null,8,["onClick"])])),_:1}),r,(0,a._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[3]||(e[3]=e=>t.openSLink())},[(0,a.Wm)(W,{src:"statics/fapia.jpg",class:"header-image absolute-top center"}),(0,a._)("div",null,[(0,a.Wm)(W,{src:t.currentBannerURL,class:"banner absolute-bottom"},null,8,["src"]),(0,a._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[2]||(e[2]=e=>t.openSLink()),class:"absolute-bottom centerAlign sponsorBanner"},"Sponsored Content")])]),(0,a._)("div",{class:"headerBox absolute-bottom",clickable:"",exact:"",tag:"a",target:"blank",onClick:e[4]||(e[4]=e=>t.openSLink())})])),_:1}),(0,a.Wm)(x,{modelValue:t.leftDrawerOpen,"onUpdate:modelValue":e[8]||(e[8]=e=>t.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{header:""},{default:(0,a.w5)((()=>[i])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.essentialLinks,(t=>((0,a.wg)(),(0,a.j4)(L,(0,a.dG)({key:t.title},t),null,16)))),128)),(0,a.Wm)(A,{header:""},{default:(0,a.w5)((()=>[s])),_:1}),(0,a.Wm)(q,{clickable:"",onClick:e[5]||(e[5]=e=>t.openLink(0)),exact:"",tag:"a",target:"blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"public"})])),_:1}),(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,a.Wm)(q,{clickable:"",onClick:e[6]||(e[6]=e=>t.openLink(1)),exact:"",tag:"a",target:"blank"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"manage_accounts"})])),_:1}),(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[c])),_:1})])),_:1})])),_:1}),(0,a.Wm)(q,{clickable:"",onClick:e[7]||(e[7]=e=>t.openLink(2)),exact:"",tag:"a",target:"blank",class:"absolute-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{class:"text-red",name:"bolt"})])),_:1}),(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{style:{color:"black","text-decoration":"underline"}},{default:(0,a.w5)((()=>[d])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})])),_:1})],64)}function p(t,e,l,o,r,i){const s=(0,a.up)("q-icon"),u=(0,a.up)("q-item-section"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(d,{clickable:"",exact:"",tag:"a",target:"blank",to:t.to,link:t.link},{default:(0,a.w5)((()=>[t.icon?((0,a.wg)(),(0,a.j4)(u,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:t.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.title),1)])),_:1}),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.caption),1)])),_:1})])),_:1})])),_:1},8,["to","link"])}const g=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:String,default:"#"},link:{type:String,default:"#"},icon:{type:String,default:""}}});var f=l(3414),k=l(2035),w=l(4554),b=l(2350),h=l(7518),_=l.n(h);g.render=p;const W=g;_()(g,"components",{QItem:f.Z,QItemSection:k.Z,QIcon:w.Z,QItemLabel:b.Z});var I=l(1959),A=(l(1082),l(6395)),L=(l(3277),l(2490)),D=l(8127),Z=l(3437);const q=[{title:"Information",icon:"info",to:"/"},{title:"Wall of Fame",icon:"format_list_numbered",to:"/donations"}],C=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:W},setup(){const t=(0,I.iH)(!1),e=(0,I.iH)(""),l="https://www.gimenezandcarrillo.com/";return{alert:(0,I.iH)(null),done:!1,lastAlertID:0,alertText:"",alertTime:null,essentialLinks:q,currentAlertID:null,currentBannerURL:e,currentSLink:l,bannerCount:-1,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value}}},methods:{openLink(t){0==t&&(0,Z.Z)("https://www.fapia.net/"),1==t&&(0,Z.Z)("https://fapia.memberclicks.net/login#/login"),2==t&&(0,Z.Z)("https://GeoGianni.com")},openSLink(){""!=this.currentSLink&&null!=this.currentSLink&&(0,Z.Z)(this.currentSLink)},setLastAlert:function(t){A.Z.set("lastAlertID",this.currentAlertID),this.lastAlertID=this.currentAlertID,this.alert=!1,console.log("DONE!"+A.Z.getItem("lastAlertID"))},getCurrentBannerImage(t){if(-1==this.bannerCount){(0,D.JU)(L["default"],"data","info"),(0,D.QT)((0,D.JU)(L["default"],"data","info")).then((t=>{t.exists()?(console.log("BC: "+t.data().bannerCount),this.bannerCount=t.data().bannerCount):console.log("No such document!")}))}(0,D.JU)(L["default"],"bannerUrls","banner0"),(0,D.QT)((0,D.JU)(L["default"],"bannerUrls","banner"+t)).then((t=>{t.exists()?(this.currentBannerURL=t.data().URL,this.currentSLink=t.data().sLINK):console.log("No such document!")}))},getNewestAlert(){console.log("Start:"+A.Z.getItem("lastAlertID")),null!=A.Z.getItem("lastAlertID")&&(this.lastAlertID=A.Z.getItem("lastAlertID")),console.log("WHOA"+this.lastAlertID+this.currentAlertID),this.lastAlertID==this.currentAlertID&&null!=this.lastAlertID||(this.alert=!0,console.log("test"))}},created(){this.getCurrentBannerImage(Math.floor(2*Math.random())),setInterval((()=>this.getCurrentBannerImage(Math.floor(Math.random()*this.bannerCount+1))),1e4)},mounted(){this.setLastAlert();const t=(0,D.IO)((0,D.hJ)(L["default"],"alerts"),(0,D.Xo)("time"));(0,D.cf)(t,(t=>{t.docChanges().forEach((t=>{let e=t.doc.data(),l={alertText:e.alertText,id:null,time:e.time};"added"===t.type&&(console.log("New Alert: ",t.doc.id),console.log("New Alert: ",this.lastAlertID+" "+this.alert),this.getNewestAlert(),l.id=t.doc.id,this.alertText=l.alertText,this.currentAlertID=l.id,this.alertTime=l.time.toDate().toDateString()+"\nat "+l.time.toDate().toLocaleTimeString(),console.log("tast: "+this.alertText),t.doc.id!=this.lastAlertID&&(this.alert=!0)),"modified"===t.type&&(console.log("Modified Alert: ",e),this.getNewestAlert()),"removed"===t.type&&console.log("Removed Alert: ",e)}))}))}});var x=l(8240),v=l(5548),Q=l(151),S=l(5589),U=l(9367),y=l(3066),T=l(3812),B=l(9570),M=l(4027),N=l(6873),H=l(7011),O=l(2652),P=l(677);C.render=m;const E=C;_()(C,"components",{QBtn:x.Z,QDialog:v.Z,QCard:Q.Z,QCardSection:S.Z,QCardActions:U.Z,QLayout:y.Z,QHeader:T.Z,QToolbar:B.Z,QImg:M.Z,QDrawer:N.Z,QList:H.Z,QItemLabel:b.Z,QItem:f.Z,QItemSection:k.Z,QIcon:w.Z,QPageContainer:O.Z}),_()(C,"directives",{ClosePopup:P.Z})}}]);