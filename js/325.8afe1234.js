"use strict";(self["webpackChunkfapia_app"]=self["webpackChunkfapia_app"]||[]).push([[325],{7325:(t,e,a)=>{a.r(e),a.d(e,{default:()=>R});var l=a(3673),n=a(2323);const o=(0,l._)("div",{class:"text-h6"},"Alert",-1),r=(0,l._)("div",{class:"q-px-lg q-pt-xl q-mb-md bottomMargin"},[(0,l._)("div",{class:"q-px-lg q-pt-xl q-mb-md"})],-1),i=(0,l.Uk)(" Pages "),s=(0,l.Uk)(" External Links "),u=(0,l.Uk)("FAPIA Website"),c=(0,l.Uk)("FAPIA Members"),d=(0,l.Uk)("Powered by GeoGianni.com");function m(t,e,a,m,p,g){const f=(0,l.up)("q-btn"),b=(0,l.up)("q-card-section"),k=(0,l.up)("q-card-actions"),h=(0,l.up)("q-card"),w=(0,l.up)("q-dialog"),_=(0,l.up)("q-toolbar"),I=(0,l.up)("q-img"),W=(0,l.up)("q-header"),L=(0,l.up)("q-item-label"),A=(0,l.up)("EssentialLink"),D=(0,l.up)("q-icon"),Z=(0,l.up)("q-item-section"),q=(0,l.up)("q-item"),C=(0,l.up)("q-list"),x=(0,l.up)("q-drawer"),v=(0,l.up)("router-view"),Q=(0,l.up)("q-page-container"),U=(0,l.up)("q-layout"),S=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(f,{label:"Alert",color:"primary",onClick:e[0]||(e[0]=e=>t.alert=!0)}),(0,l.Wm)(w,{modelValue:t.alert,"onUpdate:modelValue":e[1]||(e[1]=e=>t.alert=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"alertCard"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(b,{class:"q-pt-none text-h6 text-body1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(this.alertText),1)])),_:1}),(0,l.Wm)(b,{class:"q-pt-none text-subtitle2 alertLine"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(this.alertTime),1)])),_:1}),(0,l.Wm)(k,{align:"center",class:"q-ma-md bg-grey"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(f,{flat:"",label:"OK",color:"primary",onClick:t.setLastAlert},null,8,["onClick"]),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(U,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"noPoint"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{flat:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",onClick:t.toggleLeftDrawer},null,8,["onClick"])])),_:1}),r,(0,l._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[3]||(e[3]=e=>t.openSLink())},[(0,l.Wm)(I,{src:"statics/fapia.jpg",class:"header-image absolute-top center"}),(0,l._)("div",null,[(0,l.Wm)(I,{src:t.currentBannerURL,class:"banner absolute-bottom"},null,8,["src"]),(0,l._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[2]||(e[2]=e=>t.openSLink()),class:"absolute-bottom centerAlign sponsorBanner"},"Sponsored Content")])]),(0,l._)("div",{class:"headerBox absolute-bottom",clickable:"",exact:"",tag:"a",target:"blank",onClick:e[4]||(e[4]=e=>t.openSLink())})])),_:1}),(0,l.Wm)(x,{modelValue:t.leftDrawerOpen,"onUpdate:modelValue":e[8]||(e[8]=e=>t.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(L,{header:""},{default:(0,l.w5)((()=>[i])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.essentialLinks,(t=>((0,l.wg)(),(0,l.j4)(A,(0,l.dG)({key:t.title},t),null,16)))),128)),(0,l.Wm)(L,{header:""},{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(q,{clickable:"",onClick:e[5]||(e[5]=e=>t.openLink(0)),exact:"",tag:"a",target:"blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{name:"public"})])),_:1}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,l.Wm)(q,{clickable:"",onClick:e[6]||(e[6]=e=>t.openLink(1)),exact:"",tag:"a",target:"blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{name:"manage_accounts"})])),_:1}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[c])),_:1})])),_:1})])),_:1}),(0,l.Wm)(q,{clickable:"",onClick:e[7]||(e[7]=e=>t.openLink(2)),exact:"",tag:"a",target:"blank",class:"absolute-bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"text-red",name:"bolt"})])),_:1}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(L,{style:{color:"black","text-decoration":"underline"}},{default:(0,l.w5)((()=>[d])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})],64)}function p(t,e,a,o,r,i){const s=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),c=(0,l.up)("q-item-label"),d=(0,l.up)("q-item");return(0,l.wg)(),(0,l.j4)(d,{clickable:"",exact:"",tag:"a",target:"blank",to:t.to,link:t.link},{default:(0,l.w5)((()=>[t.icon?((0,l.wg)(),(0,l.j4)(u,{key:0,avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:t.icon},null,8,["name"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.title),1)])),_:1}),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.caption),1)])),_:1})])),_:1})])),_:1},8,["to","link"])}const g=(0,l.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:String,default:"#"},link:{type:String,default:"#"},icon:{type:String,default:""}}});var f=a(3414),b=a(2035),k=a(4554),h=a(2350),w=a(7518),_=a.n(w);g.render=p;const I=g;_()(g,"components",{QItem:f.Z,QItemSection:b.Z,QIcon:k.Z,QItemLabel:h.Z});var W=a(1959),L=(a(1082),a(6395)),A=(a(3277),a(2490)),D=a(8127),Z=a(3437);const q=[{title:"Information",icon:"info",to:"/"},{title:"Wall of Fame",icon:"format_list_numbered",to:"/donations"}],C=(0,l.aZ)({name:"MainLayout",components:{EssentialLink:I},setup(){const t=(0,W.iH)(!1),e=(0,W.iH)("https://firebasestorage.googleapis.com/v0/b/fapia-live.appspot.com/o/bannerImages%2Fbanner1.jpg?alt=media&token=1347c49a-d3f9-4eef-b302-0ccba37cdbe5"),a="";return{alert:(0,W.iH)(null),done:!1,lastAlertID:0,alertText:"",alertTime:null,essentialLinks:q,currentAlertID:null,currentBannerURL:e,currentSLink:a,bannerCount:-1,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value}}},methods:{openLink(t){0==t&&(0,Z.Z)("https://www.fapia.net/"),1==t&&(0,Z.Z)("https://fapia.memberclicks.net/login#/login"),2==t&&(0,Z.Z)("https://GeoGianni.com")},openSLink(){""!=this.currentSLink&&null!=this.currentSLink&&(0,Z.Z)(this.currentSLink)},setLastAlert:function(t){L.Z.set("lastAlertID",this.currentAlertID),this.lastAlertID=this.currentAlertID,this.alert=!1,console.log("DONE!"+L.Z.getItem("lastAlertID"))},getCurrentBannerImage(t){let e=Math.floor(2*Math.random());if(-1==this.bannerCount){(0,D.JU)(A["default"],"data","info"),(0,D.QT)((0,D.JU)(A["default"],"data","info")).then((t=>{t.exists()?(console.log("BC: "+t.data().bannerCount),this.bannerCount=t.data().bannerCount):console.log("No such document!")}))}(0,D.JU)(A["default"],"bannerUrls","banner0"),(0,D.QT)((0,D.JU)(A["default"],"bannerUrls","banner"+e)).then((t=>{if(t.exists()){if(this.currentBannerURL==t.data().URL)return this.getCurrentBannerImage;this.currentBannerURL=t.data().URL,this.currentSLink=t.data().sLINK}else console.log("No such document!")}))},getNewestAlert(){console.log("Start:"+L.Z.getItem("lastAlertID")),null!=L.Z.getItem("lastAlertID")&&(this.lastAlertID=L.Z.getItem("lastAlertID")),console.log("WHOA"+this.lastAlertID+this.currentAlertID),this.lastAlertID==this.currentAlertID&&null!=this.lastAlertID||(this.alert=!0,console.log("test"))}},created(){setInterval((()=>this.getCurrentBannerImage(Math.floor(Math.random()*this.bannerCount))),6e3)},mounted(){this.setLastAlert();const t=(0,D.IO)((0,D.hJ)(A["default"],"alerts"),(0,D.Xo)("time"));(0,D.cf)(t,(t=>{t.docChanges().forEach((t=>{let e=t.doc.data(),a={alertText:e.alertText,id:null,time:e.time};"added"===t.type&&(console.log("New Alert: ",t.doc.id),console.log("New Alert: ",this.lastAlertID+" "+this.alert),this.getNewestAlert(),a.id=t.doc.id,this.alertText=a.alertText,this.currentAlertID=a.id,this.alertTime=a.time.toDate().toDateString()+"\nat "+a.time.toDate().toLocaleTimeString(),console.log("tast: "+this.alertText),t.doc.id!=this.lastAlertID&&(this.alert=!0)),"modified"===t.type&&(console.log("Modified Alert: ",e),this.getNewestAlert()),"removed"===t.type&&console.log("Removed Alert: ",e)}))}))}});var x=a(8240),v=a(5548),Q=a(151),U=a(5589),S=a(9367),y=a(3066),T=a(3812),B=a(9570),M=a(4027),N=a(6873),H=a(7011),O=a(2652),P=a(677);C.render=m;const R=C;_()(C,"components",{QBtn:x.Z,QDialog:v.Z,QCard:Q.Z,QCardSection:U.Z,QCardActions:S.Z,QLayout:y.Z,QHeader:T.Z,QToolbar:B.Z,QImg:M.Z,QDrawer:N.Z,QList:H.Z,QItemLabel:h.Z,QItem:f.Z,QItemSection:b.Z,QIcon:k.Z,QPageContainer:O.Z}),_()(C,"directives",{ClosePopup:P.Z})}}]);