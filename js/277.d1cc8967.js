"use strict";(self["webpackChunkfapia_app"]=self["webpackChunkfapia_app"]||[]).push([[277],{5277:(t,e,a)=>{a.r(e),a.d(e,{default:()=>P});var l=a(3673),n=a(2323);const o=(0,l._)("div",{class:"text-h6"},"Alert",-1),r=(0,l._)("div",{class:"q-px-lg q-pt-xl q-mb-md bottomMargin"},[(0,l._)("div",{class:"q-px-lg q-pt-xl q-mb-md"})],-1),i=(0,l.Uk)(" Pages "),s=(0,l.Uk)(" External Links "),c=(0,l.Uk)("FAPIA Website"),u=(0,l.Uk)("FAPIA Members"),d=(0,l.Uk)("Powered by GeoGianni.com");function m(t,e,a,m,p,g){const f=(0,l.up)("q-btn"),b=(0,l.up)("q-card-section"),k=(0,l.up)("q-card-actions"),w=(0,l.up)("q-card"),h=(0,l.up)("q-dialog"),_=(0,l.up)("q-toolbar"),I=(0,l.up)("q-img"),W=(0,l.up)("q-header"),A=(0,l.up)("q-item-label"),L=(0,l.up)("EssentialLink"),C=(0,l.up)("q-icon"),D=(0,l.up)("q-item-section"),Z=(0,l.up)("q-item"),q=(0,l.up)("q-list"),v=(0,l.up)("q-drawer"),x=(0,l.up)("router-view"),Q=(0,l.up)("q-page-container"),U=(0,l.up)("q-layout"),y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(f,{label:"Alert",color:"primary",onClick:e[0]||(e[0]=e=>t.alert=!0)}),(0,l.Wm)(h,{modelValue:t.alert,"onUpdate:modelValue":e[1]||(e[1]=e=>t.alert=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"alertCard"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(b,{class:"q-pt-none text-h6 text-body1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(this.alertText),1)])),_:1}),(0,l.Wm)(b,{class:"q-pt-none text-subtitle2 alertLine"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(this.alertTime),1)])),_:1}),(0,l.Wm)(k,{align:"center",class:"q-ma-md bg-grey"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(f,{flat:"",label:"OK",color:"primary",onClick:t.setLastAlert},null,8,["onClick"]),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(U,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"noPoint"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",onClick:t.toggleLeftDrawer},null,8,["onClick"])])),_:1}),r,(0,l._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[3]||(e[3]=e=>t.openSLink())},[(0,l.Wm)(I,{src:"statics/fapia.jpg",class:"header-image absolute-top center"}),(0,l._)("div",null,[(0,l.Wm)(I,{src:t.currentBannerURL,class:"banner absolute-bottom"},null,8,["src"]),(0,l._)("div",{clickable:"",exact:"",tag:"a",target:"blank",onClick:e[2]||(e[2]=e=>t.openSLink()),class:"absolute-bottom centerAlign sponsorBanner"},"Sponsored Content")])]),(0,l._)("div",{class:"headerBox absolute-bottom",clickable:"",exact:"",tag:"a",target:"blank",onClick:e[4]||(e[4]=e=>t.openSLink())})])),_:1}),(0,l.Wm)(v,{modelValue:t.leftDrawerOpen,"onUpdate:modelValue":e[8]||(e[8]=e=>t.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,{header:""},{default:(0,l.w5)((()=>[i])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.essentialLinks,(t=>((0,l.wg)(),(0,l.j4)(L,(0,l.dG)({key:t.title},t),null,16)))),128)),(0,l.Wm)(A,{header:""},{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(Z,{clickable:"",onClick:e[5]||(e[5]=e=>t.openLink(0)),exact:"",tag:"a",target:"blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{name:"public"})])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[c])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Z,{clickable:"",onClick:e[6]||(e[6]=e=>t.openLink(1)),exact:"",tag:"a",target:"blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{name:"manage_accounts"})])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Z,{clickable:"",onClick:e[7]||(e[7]=e=>t.openLink(2)),exact:"",tag:"a",target:"blank",class:"absolute-bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{class:"text-red",name:"bolt"})])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,{style:{color:"black","text-decoration":"underline"}},{default:(0,l.w5)((()=>[d])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x)])),_:1})])),_:1})],64)}function p(t,e,a,o,r,i){const s=(0,l.up)("q-icon"),c=(0,l.up)("q-item-section"),u=(0,l.up)("q-item-label"),d=(0,l.up)("q-item");return(0,l.wg)(),(0,l.j4)(d,{clickable:"",exact:"",tag:"a",target:"blank",to:t.to,link:t.link},{default:(0,l.w5)((()=>[t.icon?((0,l.wg)(),(0,l.j4)(c,{key:0,avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:t.icon},null,8,["name"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.title),1)])),_:1}),(0,l.Wm)(u,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.caption),1)])),_:1})])),_:1})])),_:1},8,["to","link"])}const g=(0,l.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:String,default:"#"},link:{type:String,default:"#"},icon:{type:String,default:""}}});var f=a(3414),b=a(2035),k=a(4554),w=a(2350),h=a(7518),_=a.n(h);g.render=p;const I=g;_()(g,"components",{QItem:f.Z,QItemSection:b.Z,QIcon:k.Z,QItemLabel:w.Z});var W=a(1959),A=(a(1082),a(6395)),L=(a(3277),a(2490)),C=a(8127),D=a(3437);const Z=[{title:"Information",icon:"info",to:"/"},{title:"Wall of Fame",icon:"format_list_numbered",to:"/donations"},{title:"Event Sponsors",icon:"volunteer_activism",to:"/sponsors"}],q=(0,l.aZ)({name:"MainLayout",components:{EssentialLink:I},setup(){const t=(0,W.iH)(!1),e=(0,W.iH)("https://firebasestorage.googleapis.com/v0/b/fapia-live.appspot.com/o/bannerImages%2Fbanner1.jpg?alt=media&token=1347c49a-d3f9-4eef-b302-0ccba37cdbe5"),a="";return{alert:(0,W.iH)(null),done:!1,lastAlertID:0,alertText:"",alertTime:null,essentialLinks:Z,currentAlertID:null,currentBannerURL:e,currentSLink:a,bannerCount:-1,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value}}},methods:{openLink(t){0==t&&(0,D.Z)("https://www.fapia.net/"),1==t&&(0,D.Z)("https://fapia.memberclicks.net/login#/login"),2==t&&(0,D.Z)("https://GeoGianni.com")},openSLink(){(0,D.Z)(this.currentSLink)},setLastAlert:function(t){A.Z.set("lastAlertID",this.currentAlertID),this.lastAlertID=this.currentAlertID,this.alert=!1,console.log("DONE!"+A.Z.getItem("lastAlertID"))},getCurrentBannerImage(t){if(-1==this.bannerCount){(0,C.JU)(L["default"],"data","info"),(0,C.QT)((0,C.JU)(L["default"],"data","info")).then((t=>{t.exists()?(console.log("BC: "+t.data().bannerCount),this.bannerCount=t.data().bannerCount):console.log("No such document!")}))}(0,C.JU)(L["default"],"bannerUrls","banner0"),(0,C.QT)((0,C.JU)(L["default"],"bannerUrls","banner"+t)).then((t=>{t.exists()?(this.currentBannerURL=t.data().URL,this.currentSLink=t.data().sLINK):console.log("No such document!")}))},getNewestAlert(){console.log("Start:"+A.Z.getItem("lastAlertID")),null!=A.Z.getItem("lastAlertID")&&(this.lastAlertID=A.Z.getItem("lastAlertID")),console.log("WHOA"+this.lastAlertID+this.currentAlertID),this.lastAlertID==this.currentAlertID&&null!=this.lastAlertID||(this.alert=!0,console.log("test"))}},created(){this.getCurrentBannerImage(Math.floor(Math.random()*this.bannerCount)),setInterval((()=>this.getCurrentBannerImage(Math.floor(Math.random()*this.bannerCount))),1e4)},mounted(){this.setLastAlert();const t=(0,C.IO)((0,C.hJ)(L["default"],"alerts"),(0,C.Xo)("time"));(0,C.cf)(t,(t=>{t.docChanges().forEach((t=>{let e=t.doc.data(),a={alertText:e.alertText,id:null,time:e.time};"added"===t.type&&(console.log("New Alert: ",t.doc.id),console.log("New Alert: ",this.lastAlertID+" "+this.alert),this.getNewestAlert(),a.id=t.doc.id,this.alertText=a.alertText,this.currentAlertID=a.id,this.alertTime=a.time.toDate().toDateString()+"\nat "+a.time.toDate().toLocaleTimeString(),console.log("tast: "+this.alertText),t.doc.id!=this.lastAlertID&&(this.alert=!0)),"modified"===t.type&&(console.log("Modified Alert: ",e),this.getNewestAlert()),"removed"===t.type&&console.log("Removed Alert: ",e)}))}))}});var v=a(8240),x=a(5548),Q=a(151),U=a(5589),y=a(9367),S=a(3066),T=a(3812),B=a(9570),M=a(4027),N=a(6873),H=a(7011),E=a(2652),O=a(677);q.render=m;const P=q;_()(q,"components",{QBtn:v.Z,QDialog:x.Z,QCard:Q.Z,QCardSection:U.Z,QCardActions:y.Z,QLayout:S.Z,QHeader:T.Z,QToolbar:B.Z,QImg:M.Z,QDrawer:N.Z,QList:H.Z,QItemLabel:w.Z,QItem:f.Z,QItemSection:b.Z,QIcon:k.Z,QPageContainer:E.Z}),_()(q,"directives",{ClosePopup:O.Z})}}]);